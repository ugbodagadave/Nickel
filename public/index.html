<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nickel • AI Accounting Assistant</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Nickel</h1>
    <p>AI-powered accounting assistant (POC) built for IBM watsonx 2025 Hackathon</p>
  </header>

  <main>
    <section>
      <h2>Start</h2>
      <p>Use the embedded Orchestrate chat below to upload sample invoices and run reconciliation flows once configured.</p>
      <p>See <a href="../development_plan.md">development plan</a> and <a href="../prd.md">PRD</a> for scope.</p>
    </section>

    <section>
      <h2>watsonx.ai smoke test</h2>
      <form id="wx-form">
        <label for="wx-input">Message</label>
        <input id="wx-input" placeholder="Say hello to Granite..." />
        <button type="submit">Send</button>
      </form>
      <pre id="wx-out"></pre>
      <script>
        const form = document.getElementById('wx-form');
        const out = document.getElementById('wx-out');
        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          out.textContent = '...calling watsonx.ai';
          const input = document.getElementById('wx-input').value;
          try {
            const resp = await fetch('/api/wx/chat', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ input }) });
            const data = await resp.json();
            out.textContent = JSON.stringify(data, null, 2);
          } catch (err) {
            out.textContent = 'Error: ' + err.message;
          }
        });
      </script>
    </section>

    <section class="chat">
      <h2>Orchestrate Chat (to be embedded)</h2>
      <div class="placeholder">
        <p>Placeholder: Orchestrate web chat will render here after we set up the instance URL, API key, and agent.</p>
      </div>
    </section>

    <section>
      <h2>Docs</h2>
      <ul>
        <li><a href="../docs/watsonx-setup.md">watsonx.ai setup</a></li>
        <li><a href="../docs/orchestrate.md">Orchestrate chat embed</a></li>
      </ul>
    </section>
  </main>

  <footer>
    <small>© 2025 Nickel POC</small>
  </footer>
</body>
</html> 